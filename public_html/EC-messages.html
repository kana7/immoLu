<!DOCTYPE html>
<html>
    <head>
        <title>Immo.lu</title>
        <meta charset="UTF-8">
        <meta name="description" content=""/>
        <meta name="keywords" content=""/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styles/css/vendor/jquery.dataTables.min.css" />
        <link rel="stylesheet" href="styles/css/vendor/animate.min.css" />
        <link rel="stylesheet" href="styles/css/main.css" />
        <script type="text/javascript" src="scripts/vendor/modernizr.js"></script>
    </head>
    <body>
        <nav class="mobile-side-menu">
            <ul class="menu">
                <li class="menu-item link"><a href="#">Accueil</a></li>
                <li class="menu-item link"><a href="#">Acheter</a></li>
                <li class="menu-item link"><a href="#">Louer</a></li>
                <li class="menu-item link"><a href="#">Neuf</a></li>
                <li class="menu-item link"><a href="#">Agences</a></li>
                <li class="menu-item link"><a href="#">Commerces</a></li>
                <li class="menu-item focus link"><a href="#">Ajouter une annonce</a></li>
            </ul>
        </nav>
        <div id="siteWrap">
            <header>
                <div class="header-upper">
                    <div class="container">
                        <div style="height: 100%;" class="row">
                            <nav id="language-selection" class="header-upper-nav right phone-6">
                                <ul>
                                    <li class="active"><a href="#">FR</a></li>
                                    <li class="separator">|</li>
                                    <li><a href="#">EN</a></li>
                                    <li class="separator">|</li>
                                    <li><a href="#">DE</a></li>
                                    <li class="separator">|</li>
                                    <li><a href="#">PT</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="header-bottom mobile display-phone display-tab">
                    <div class="container">
                        <div class="row">
                            <div class="phone-6">
                                <div class="logo">
                                    <img src="images/Img/Logo_Immo.lu.png" alt="logo immo.lu" />
                                </div>
                            </div>
                            <div class="phone-6">
                                <div class="clearfix pull-right header-mobile-button">
                                    <a href="#" class="btn-blue"><span class="icon-account-icone"></span></a>
                                    <a href="#" class="btn-white mobile-button-white"><span class="icon-menu-icone"></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="header-bottom display-desk display-lgdesk">
                    <div class="container">
                        <div class="row">
                            <nav class="pull-right login-nav phone-6">
                                <ul>
                                    <li><a href="#"><span class="icon-lock phone-pr-10"></span>Se connecter</a></li>
                                    <li><a href="#">S'inscrire gratuitement</a></li>
                                </ul>
                            </nav>
                        </div>
                        <div id="header-bottom-main" class="row">
                            <div style="height: 100%;" class="pull-left">
                                <div class="logo">
                                    <img src="images/Img/Logo_Immo.lu.png" alt="logo immo.lu" />
                                </div>
                                <nav class="main-nav">
                                    <ul>
                                        <li class="active"><a href="#">Annonces</a></li>
                                        <li><a href="#">Profil</a></li>
                                        <li><a href="#">Messages</a></li>
                                        <li><a href="#">Aide</a></li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="pull-right header-bottom-buttons">
                                <a class="btn-blue">Publier une annonce</a>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <div id="pro" class="content">
                <div class="container">
                    <div class="row table phone-mb-15">
                        <h1 class="table-cell">Messages</h1>
                    </div>
                    <div class="row">
                        <div class="phone-12 phone-mb-20 desk-3 desk-pr-10">
                            <ul class="nav-list">
                                <li class="active"><a href="#"><span>Messages reçus</span><span>(4)</span></a></li>
                                <li><a href="#"><span>Messages envoyés</span><span>(14)</span></a></li>
                                <li><a href="#"><span>Messages archivés</span><span>(241)</span></a></li>
                                <li><a href="#"><span>Poubelle</span><span>(0)</span></a></li>
                            </ul>
                        </div>
                        <div class="phone-12 desk-9 desk-pl-10">
                            <div class="phone-12">
                                <table class="entry-table not-annonce">
                                    <thead>
                                        <tr>
                                            <th id="select-all"></th>
                                            <th>Expéditeur</th>
                                            <th>Annonce</th>
                                            <th>Référence</th>
                                            <th>Date de réception</th>
                                            <th>Action</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td>annette76</td>
                                            <td>Luxembourg-Weimerskirch Appartement</td>
                                            <td>1284569</td>
                                            <td>01/04/2016</td>
                                            <td>
                                                <div class="dropdown">
                                                    <button><span class="icon-menu-icone"></span></button>
                                                    <ul class="dropdown-links">
                                                        <li><a href="#">Archiver</a></li>
                                                        <li><a href="#">Supprimer</a></li>
                                                    </ul>
                                                </div>
                                            </td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer>
                <div class="footer-top">
                    <div class="container">
                        <div class="row display-flex-align-middle">
                            <div class="footer-links desk-4">
                                <img class="phone-mb-20" src="images/Img/Logo_Immo.lu_Baseline.png" alt="" />
                                <img src="images/Img/Mockup.png" alt="" />
                                <p>Accessible sur desktop et mobile !</p>
                            </div>
                            <div class="footer-links desk-4 hidden-tab hidden-phone">
                                <h3>Recherche d'immobilier en vente</h3>
                                <nav>
                                    <ul>
                                        <li><a href="#">Appartement au Luxembourg</a></li>
                                        <li><a href="#">Maisons au Luxembourg</a></li>
                                        <li><a href="#">Maisons à Kirchberg</a></li>
                                        <li><a href="#">Maisons à Strassen</a></li>
                                        <li><a href="#">Maisons à Leudelange</a></li>
                                        <li><a href="#">Maisons à Hollerich</a></li>
                                        <li><a href="#">Maisons à Esch-sur-Alzette</a></li>
                                        <li><a href="#">Maisons à Basharage</a></li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="footer-links desk-4 hidden-tab hidden-phone">
                                <h3>Recherche d'immobilier en location</h3>
                                <nav>
                                    <ul>
                                        <li><a href="#">Appartement au Luxembourg</a></li>
                                        <li><a href="#">Maisons au Luxembourg</a></li>
                                        <li><a href="#">Maisons à Kirchberg</a></li>
                                        <li><a href="#">Maisons à Strassen</a></li>
                                        <li><a href="#">Maisons à Leudelange</a></li>
                                        <li><a href="#">Maisons à Hollerich</a></li>
                                        <li><a href="#">Maisons à Esch-sur-Alzette</a></li>
                                        <li><a href="#">Maisons à Basharage</a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <script type="text/javascript" src="scripts/vendor/jquery.min.js"></script>
        <script type="text/javascript" src="scripts/vendor/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="scripts/main.js"></script>
        <script type="text/javascript">
            function updateDataTableSelectAllCtrl(table) {
                var $table = table.table().node();
                var $chkbox_all = $('tbody tr td.select-checkbox', $table);
                var $chkbox_checked = $('tbody tr.selected td.select-checkbox', $table);
                var chkbox_select_all = $('#select-all', $table).get(0);

                // If none of the checkboxes are checked
                if ($chkbox_checked.length === 0) {
                    chkbox_select_all.checked = false;
                    if ('indeterminate' in chkbox_select_all) {
                        chkbox_select_all.indeterminate = false;
                    }

                    // If all of the checkboxes are checked
                } else if ($chkbox_checked.length === $chkbox_all.length) {
                    chkbox_select_all.checked = true;
                    if ('indeterminate' in chkbox_select_all) {
                        chkbox_select_all.indeterminate = false;
                    }

                    // If some of the checkboxes are checked
                } else {
                    chkbox_select_all.checked = true;
                    if ('indeterminate' in chkbox_select_all) {
                        chkbox_select_all.indeterminate = true;
                    }
                }
            }

            $(function () {
                var table = $('.entry-table').DataTable({
                    responsive: {
                        details: {
                            type: 'column',
                            target: 'tr td:last-child'
                        },
                        breakpoints: [
                            {name: 'desktop', width: Infinity},
                            {name: 'tablet', width: 1302},
                            {name: 'fablet', width: 1056},
                            {name: 'phone', width: 671}
                        ]
                    },
                    columns: [
                        {responsivePriority: 0},
                        {responsivePriority: 1},
                        {responsivePriority: 2},
                        {responsivePriority: 4},
                        {responsivePriority: 3},
                        {responsivePriority: 0},
                        {responsivePriority: 0}
                    ],
                    columnDefs: [{
                            className: 'control',
                            orderable: false,
                            targets: [6]
                        },
                        {
                            orderable: false,
                            className: 'select-checkbox',
                            targets: [0]
                        },
                        {
                            orderable: false,
                            targets: [6]
                        }
                    ],
                    select: {
                        style: 'os',
                        selector: 'td:not(:last-child)'
                    },
                    order: [[1, 'asc']],
                    sDom: '<<"top"il><t><"bottom"Bp>>',
                    language: {
                        "info": "_PAGE_ sur _TOTAL_ messages",
                        "infoEmpty": "Aucun message",
                        "paginate": {
                            "first": "Premier",
                            "last": "Dernier",
                            "next": "Suivant",
                            "previous": "Précédent"
                        },
                        "lengthMenu": "_MENU_ messages par page",
                        "select": {
                            "rows": {
                                "_": "<span class='extra-bold'>%d</span> lignes sélectionnées",
                                0: "<span class='extra-bold'>Shift+click</span> pour sélectionner plusieurs lignes",
                                1: "<span class='extra-bold'>1</span> ligne sélectionnée"
                            }
                        },
                        "zeroRecords": "Aucun message"
                    },
                    buttons: [
                        {
                            text: 'Supprimer',
                            className: 'btn-blue',
                            action: function () {
                                var rows = table.rows('.selected').data().length;
                                if (rows > 0) {
                                    table.rows('.selected').remove().draw(false);
                                    alert(rows + ' annonce(s) supprimée(s)');
                                } else {
                                    alert('Aucune ligne sélectionnée');
                                }
                            }
                        },
                        {
                            text: 'Archiver',
                            className: 'btn-blue',
                            action: function () {
                                alert('toDo : Archiver messages');
                            }
                        }
                    ]
                });
                $('#select-all').on('click', function () {
                    if (!$(this).parent().hasClass('selected')) {
                        $(this).parent().addClass('selected');
                        table.rows({page: 'current'}).select();
                    } else {
                        $(this).parent().removeClass('selected');
                        table.rows({page: 'current'}).deselect()();
                    }
                });
            });
        </script>
    </body>
</html>
